<div class="container mt-4">
  <h2 class="mb-4 text-center">Create Anime</h2>
  <form
    *ngIf="createAnimeForm"
    [formGroup]="createAnimeForm"
    (ngSubmit)="onSubmit()"
  >
    <div class="form-group">
      <label for="title"><i class="fas fa-heading"></i> Title</label>
      <input
        type="text"
        class="form-control"
        formControlName="title"
        id="title"
      />
      <div *ngIf="isTitleTooShort()" class="alert alert-warning">
        Title should be at least 5 characters.
      </div>
      <div *ngIf="isTitleTooLong()" class="alert alert-warning">
        Title should be maximum 100 characters.
      </div>
      <div *ngIf="isTitleNotCapitalized()" class="alert alert-warning">
        Title should start with a capital letter.
      </div>
      <div *ngIf="isTitleInvalid()" class="alert alert-danger">
        Title is required.
      </div>
    </div>
    <div class="form-group">
      <label for="description">
        <i class="fas fa-align-left"></i> Description</label
      >
      <textarea
        class="form-control"
        formControlName="description"
        id="description"
      ></textarea>
      <div *ngIf="isDescriptionTooShort()" class="alert alert-warning">
        Description should be at least 100 characters.
      </div>
      <div *ngIf="isDescriptionTooLong()" class="alert alert-warning">
        Description should be maximum 500 characters.
      </div>
      <div *ngIf="isDescriptionNotCapitalized()" class="alert alert-warning">
        Description should start with a capital letter.
      </div>
      <div *ngIf="isDescriptionInvalid()" class="alert alert-danger">
        Description is required.
      </div>
    </div>
    <div class="form-group">
      <label for="img"><i class="far fa-image"></i> Image URL</label>
      <input type="text" class="form-control" formControlName="img" id="img" />
      <div *ngIf="isImageInvalid()" class="alert alert-danger">
        Image URL is required and should be a valid URL ending with .png, .jpg,
        or .jpeg.
      </div>
    </div>
    <div class="form-group">
      <label for="tags"><i class="fas fa-tags"></i> Tags</label>
      <div>
        <div class="form-check" *ngFor="let tag of tagsList">
          <input
            type="checkbox"
            class="form-check-input"
            [id]="tag"
            [formControl]="getTagControl(tagsList.indexOf(tag))"
          />
          <label class="form-check-label" [for]="tag">{{ tag }}</label>
        </div>
      </div>
      <div *ngIf="isAtLeastOneTagSelected()" class="alert alert-danger">
        At least one anime should be selected.
      </div>
    </div>
    <div class="form-group btn-group">
      <button type="submit" class="btn btn-primary">
        <i class="fas fa-plus-circle"></i> Create Anime
      </button>
      <button type="button" class="btn btn-danger" (click)="cancelCreate()">
        <i class="fas fa-times-circle"></i> Cancel Create
      </button>
    </div>
  </form>
</div>
